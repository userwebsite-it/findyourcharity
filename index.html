<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Find Your Charity</title>
<meta name="description" content="Independent, nonprofit directory—find charities and donate on their official sites.">
<style>
:root{--primary:#1E4D8B;--primary-dark:#153E75;--text:#0f172a;--bg:#E6EFFA;--muted:#6b7280;--line:#e5e7eb}
*{box-sizing:border-box}html,body{margin:0;padding:0}
body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);background:#fff}
.container{width:min(1200px,94%);margin:0 auto}
.header{position:sticky;top:0;z-index:10;background:#fff;border-bottom:1px solid var(--line)}
.header .bar{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
.brand{display:flex;align-items:center;gap:10px;text-decoration:none;color:var(--text);font-weight:800}
.brand .logo{width:28px;height:28px;border-radius:8px;background:var(--primary);display:inline-block}
.nav a{margin-left:16px;color:var(--text);text-decoration:none;opacity:.9}.nav a:hover{opacity:1}
.hero{background:linear-gradient(180deg,var(--bg),#fff)}
.hero .inner{display:grid;grid-template-columns:1.2fr 1fr;gap:28px;align-items:center;padding:56px 0}
h1{margin:0 0 10px;font-size:clamp(2rem,4vw,3rem);line-height:1.1;color:var(--primary)}
.lead{margin:0;color:#334155}.sub{color:#64748b}
.searchbar{display:flex;gap:8px;align-items:stretch;margin-top:16px}
.searchbar input{flex:1;padding:12px 14px;border-radius:12px;border:1px solid var(--line);background:#fff}
.iconbtn{width:46px;height:46px;border-radius:12px;border:1px solid var(--line);background:var(--primary);color:#fff;display:grid;place-items:center;cursor:pointer}
.cards{display:grid;grid-template-columns:repeat(6,1fr);gap:12px}
@media (max-width:1100px){.cards{grid-template-columns:repeat(4,1fr)}}
@media (max-width:700px){.cards{grid-template-columns:repeat(2,1fr)}}
.card{background:#fff;border:1px solid var(--line);border-radius:14px;padding:12px;text-align:center;box-shadow:0 1px 0 0 rgba(0,0,0,.03)}
.card img{width:56px;height:56px;object-fit:contain;border-radius:8px;background:#fff}
.card .name{font-weight:700;font-size:.95rem;margin-top:6px}
.pills{display:flex;gap:8px;margin-top:14px;flex-wrap:wrap}
.pill{background:#fff;border:1px solid var(--line);color:#111827;padding:8px 12px;border-radius:999px;text-decoration:none;font-weight:600;cursor:pointer}
.section{padding:32px 0}
.layout{display:grid;grid-template-columns:280px 1fr;gap:18px;padding:24px 0}
@media (max-width:900px){.layout{grid-template-columns:1fr}}
.sidebar{background:#fff;border:1px solid var(--line);border-radius:14px;padding:14px;height:max-content}
.input,.select{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--line);background:#fff;margin-top:8px}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
@media (max-width:1000px){.grid{grid-template-columns:repeat(2,1fr)}}
@media (max-width:640px){.grid{grid-template-columns:1fr}}
.item{background:#fff;border:1px solid var(--line);border-radius:14px;padding:12px;display:flex;gap:12px;align-items:flex-start;box-shadow:0 1px 0 0 rgba(0,0,0,.03)}
.item img.thumb{width:64px;height:64px;object-fit:contain;border-radius:10px;background:#fff}
.meta{color:#6b7280;font-size:.9rem}
.actions{display:flex;gap:8px;margin-top:6px}
.btn{display:inline-block;padding:8px 12px;border:1px solid var(--line);border-radius:10px;text-decoration:none;color:#111;background:#fff;cursor:pointer}
.btn.primary{background:var(--primary);border-color:var(--primary);color:#fff}
.footer{border-top:1px solid var(--line);color:#6b7280}
.footer .inner{padding:20px 0 40px;display:flex;justify-content:space-between;flex-wrap:wrap;gap:8px}
.notice{font-size:.85rem;color:#64748b}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;padding:16px}
.modal .box{background:#fff;border-radius:14px;max-width:640px;width:100%;padding:16px;border:1px solid var(--line)}
</style>
</head>
<body>
<header class="header">
  <div class="container bar">
    <a class="brand" href="#"><span class="logo" aria-hidden="true"></span><span>Find Your Charity</span></a>
    <nav class="nav"><a href="#" id="browseAll">Browse All</a></nav>
  </div>
</header>

<main id="app">
  <!-- HOME -->
  <section class="hero">
    <div class="container inner">
      <div>
        <h1>Find charities. Give directly.</h1>
        <p class="lead">Independent, nonprofit directory helping you explore and give with confidence.</p>
        <p class="sub">No fees. No cuts. We link you straight to each charity’s official website.</p>
        <form id="homeSearch" class="searchbar" role="search">
          <input id="searchInput" type="search" placeholder="Search by charity name…">
          <button class="iconbtn" aria-label="Search" title="Search">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="22" height="22" fill="#fff"><path d="M10.5 3a7.5 7.5 0 015.93 12.2l4.14 4.14-1.42 1.42-4.14-4.14A7.5 7.5 0 1110.5 3zm0 2a5.5 5.5 0 100 11 5.5 5.5 0 000-11z"/></svg>
          </button>
        </form>
        <div class="pills" id="pillwrap"></div>
      </div>
      <div>
        <div class="section">
          <h3>Popular this week</h3>
          <div class="cards" id="feat"></div>
          <p id="errorbox" style="color:#b91c1c;margin-top:8px"></p>
        </div>
      </div>
    </div>
  </section>

  <!-- BROWSE -->
  <section class="container section" id="browse" style="display:none">
    <div class="layout">
      <aside class="sidebar">
        <h3 class="side-title">Filter</h3>
        <input id="q" class="input" placeholder="Search within results…">
        <select id="size" class="select"><option value="">Size (any)</option><option>Small</option><option>Medium</option><option>Large</option></select>
        <label style="display:block;margin-top:8px"><input type="checkbox" id="ver"> Verified 501(c)(3)</label>
        <input id="loc" class="input" placeholder="Location (e.g. USA)">
        <div style="margin-top:8px;color:#64748b;font-size:.9rem">Showing <span id="count">0</span> results</div>
      </aside>
      <section>
        <h1 id="catTitle" style="margin:0 0 8px;"></h1>
        <div id="results" class="grid" aria-live="polite"></div>
        <div id="pag" style="display:flex;gap:8px;margin:16px 0;"></div>
      </section>
    </div>
  </section>
</main>

<footer class="footer">
  <div class="container inner"><small>© <span id="year"></span> Find Your Charity</small></div>
</footer>

<!-- Rating Modal -->
<div class="modal" id="ratingModal" aria-hidden="true">
  <div class="box">
    <h2 id="mName" style="margin:0 0 6px"></h2>
    <div style="display:flex;align-items:center;gap:10px;margin-bottom:8px">
      <img id="mLogo" alt="" style="width:48px;height:48px;object-fit:contain;border-radius:8px;background:#fff">
      <strong id="mScore"></strong><span>/10</span>
    </div>
    <p id="mExp"></p>
    <p><a id="mSite" class="btn primary" href="#" target="_blank" rel="noopener">Visit official site</a></p>
    <div style="display:flex;justify-content:flex-end;gap:8px"><button class="btn" id="closeModal">Close</button></div>
  </div>
</div>

<script>
/* ======= Embedded demo data (small set so one-file works instantly) ======= */
const DATA = {
  "Animals & Wildlife": [
    {id:"aspca-animals", name:"ASPCA", website:"https://www.aspca.org", category:"Animals & Wildlife", blurb:"Prevents cruelty to animals.", location:"USA", size:"Large", verified:true, image:"https://logo.clearbit.com/aspca.org", rating:9.2, rating_explanation:"Recognized for exemplary performance in transparency and mission results."},
    {id:"hsus-animals", name:"Humane Society of the US", website:"https://www.humanesociety.org", category:"Animals & Wildlife", blurb:"Ending suffering for all animals.", location:"USA", size:"Large", verified:true, image:"https://logo.clearbit.com/humanesociety.org", rating:8.6, rating_explanation:"Strong governance and public outcomes."}
  ],
  "Environmental & Conservation": [
    {id:"wwf-env", name:"World Wildlife Fund", website:"https://www.worldwildlife.org", category:"Environmental & Conservation", blurb:"Protecting wildlife and wild places.", location:"Global", size:"Large", verified:true, image:"https://logo.clearbit.com/worldwildlife.org", rating:9.1, rating_explanation:"Clear reporting and global impact."},
    {id:"tnc-env", name:"The Nature Conservancy", website:"https://www.nature.org", category:"Environmental & Conservation", blurb:"Conserving lands and waters.", location:"Global", size:"Large", verified:true, image:"https://logo.clearbit.com/nature.org", rating:9.0, rating_explanation:"Strong programs and efficiency."}
  ],
  "Food Security & Hunger Relief": [
    {id:"fa-hunger", name:"Feeding America", website:"https://www.feedingamerica.org", category:"Food Security & Hunger Relief", blurb:"Network of food banks.", location:"USA", size:"Large", verified:true, image:"https://logo.clearbit.com/feedingamerica.org", rating:9.3, rating_explanation:"Efficient distribution and transparent reporting."},
    {id:"wck-hunger", name:"World Central Kitchen", website:"https://wck.org", category:"Food Security & Hunger Relief", blurb:"Meals in crises.", location:"Global", size:"Large", verified:true, image:"https://logo.clearbit.com/wck.org", rating:8.9, rating_explanation:"Rapid response and public results."}
  ],
  "Health & Medical Services": [
    {id:"msf-health", name:"Doctors Without Borders (MSF)", website:"https://www.doctorswithoutborders.org", category:"Health & Medical Services", blurb:"Medical humanitarian assistance in crises.", location:"Global", size:"Large", verified:true, image:"https://logo.clearbit.com/doctorswithoutborders.org", rating:9.1, rating_explanation:"Effective delivery and clear reporting."},
    {id:"stjude-health", name:"St. Jude Children’s Research Hospital", website:"https://www.stjude.org", category:"Health & Medical Services", blurb:"Pediatric treatment and research.", location:"USA", size:"Large", verified:true, image:"https://logo.clearbit.com/stjude.org", rating:9.0, rating_explanation:"Strong outcomes and transparency."}
  ]
};
/* ======= End embedded data ======= */

const PAGE_SIZE = 24;
const qs = (s,el=document)=>el.querySelector(s);
const qsa = (s,el=document)=>Array.from(el.querySelectorAll(s));
const pillwrap = qs('#pillwrap');
const feat = qs('#feat');
const browse = qs('#browse');
const home = document.querySelector('.hero');
const catTitle = qs('#catTitle');
const results = qs('#results');
const countEl = qs('#count');

// Pills
Object.keys(DATA).forEach(cat=>{
  const a=document.createElement('button');
  a.className='pill'; a.textContent=cat;
  a.addEventListener('click',()=>openCategory(cat));
  pillwrap.appendChild(a);
});

// Popular this week
function cardImage(img){ img.onerror=()=>{img.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 64 64%22><rect width=%2264%22 height=%2264%22 rx=%2212%22 fill=%22%231E4D8B%22/></svg>'}; }
const sample = Object.values(DATA).flat().slice(0,6);
sample.forEach(c=>{
  const a=document.createElement('a'); a.href=c.website; a.target='_blank'; a.rel='noopener'; a.className='card';
  a.innerHTML = `<img alt="${c.name} logo"><div class="name">${c.name}</div>`;
  feat.appendChild(a);
  const img=a.querySelector('img'); img.src=c.image; cardImage(img);
});

// search from home
qs('#homeSearch').addEventListener('submit',e=>{
  e.preventDefault();
  const term=(qs('#searchInput').value||'').trim();
  openCategory('Browse All', term);
});

qs('#browseAll').addEventListener('click',e=>{ e.preventDefault(); openCategory('Browse All'); });

function openCategory(cat, prefill=''){
  home.style.display='none'; browse.style.display='block';
  catTitle.textContent = cat;
  const pool = (cat==='Browse All') ? Object.values(DATA).flat() : (DATA[cat]||[]);
  const q = qs('#q'), ver=qs('#ver'), size=qs('#size'), loc=qs('#loc');
  if(q) q.value = prefill;

  function apply(){
    const term=(q?.value||'').toLowerCase().trim();
    const sizeVal=(size?.value||'').toLowerCase();
    const verOnly=!!(ver?.checked);
    const locVal=(loc?.value||'').toLowerCase();

    const view = pool.filter(c=>{
      const t=!term||(c.name+' '+(c.blurb||'')).toLowerCase().includes(term);
      const s=!sizeVal||(c.size||'').toLowerCase()===sizeVal;
      const v=!verOnly||!!c.verified;
      const l=!locVal||(c.location||'').toLowerCase().includes(locVal);
      return t&&s&&v&&l;
    });
    render(view);
  }

  function render(view){
    results.innerHTML='';
    view.slice(0,PAGE_SIZE).forEach(c=>{
      const d=document.createElement('div'); d.className='item';
      d.innerHTML = `
        <img class="thumb" alt="${c.name} logo">
        <div style="flex:1">
          <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;">
            <h3 style="margin:0">${c.name}</h3>
            <div class="rating" style="font-weight:700">${(c.rating??'—')}/10</div>
          </div>
          <div class="meta">${c.category} · ${c.location||'—'} · ${c.size||'—'}</div>
          <p style="margin:.4rem 0 0">${c.blurb||''}</p>
          <div class="actions">
            <button class="btn" data-rate="${c.id}">Why this rating?</button>
            <a class="btn primary" href="${c.website}" target="_blank" rel="noopener">Official site</a>
          </div>
        </div>`;
      results.appendChild(d);
      const img=d.querySelector('img.thumb'); img.src=c.image||''; cardImage(img);
    });
    if(countEl) countEl.textContent = String(view.length);
    // hook rating buttons
    results.querySelectorAll('[data-rate]').forEach(b=>{
      b.addEventListener('click',()=>{
        const id=b.getAttribute('data-rate');
        const found=pool.find(x=>x.id===id); if(found) openRating(found);
      })
    });
  }

  qsa('#browse input, #browse select').forEach(el=>el.addEventListener('input',apply));
  apply();
}

// Rating modal
const modal = qs('#ratingModal'), mName=qs('#mName'), mLogo=qs('#mLogo'), mScore=qs('#mScore'), mExp=qs('#mExp'), mSite=qs('#mSite');
qs('#closeModal').addEventListener('click',()=>{ modal.style.display='none'; modal.setAttribute('aria-hidden','true'); });
function openRating(c){
  mName.textContent=c.name; mLogo.src=c.image||''; mScore.textContent=(c.rating??'—'); mExp.textContent=c.rating_explanation||''; mSite.href=c.website;
  modal.style.display='flex'; modal.setAttribute('aria-hidden','false');
}

document.getElementById('year').textContent=new Date().getFullYear();
</script>
</body>
</html>
